---
import Layout from "../layouts/Layout.astro";

const books = Object.values(
	import.meta.glob("./reading/*.md", { eager: true }),
);
---

<style is:global>
@reference "../styles/global.css"
</style>

<Layout>
	<article class="flex flex-col gap-8 items-center">
		<h1 class="text-3xl self-start">Finished</h1>
		<ul class="grid gap-6 w-full">
			{books.filter(book => book.frontmatter.status === 'read').map((book, index) => {
			return  (
			<li class={`flex flex-col gap-2 justify-self-center`}>
				<a href={ `/reading/${book.frontmatter.page}`}  >
					<img
						src={book.frontmatter.thumbnail}
						class={` w-60 h-72 self-center rounded-lg cursor-pointer transition hover:-translate-y-2 shadow-sm shadow-gray-400`}
					/> 
				</a>
				<span class="flex justify-center"><a href={ `/posts/${book.frontmatter.page}`}>
					{book.frontmatter.description}
				</a></span>
			</li>
			)}
			)}
		</ul>
		<h1 class="text-3xl self-start">In progress</h1>
		<ul class="grid gap-6 w-full">
			{books.filter(book => book.frontmatter.status === 'in-progress').map((book, index) => {
			return  (
			<li class={`flex flex-col gap-2 justify-center justify-self-center ${index % 3 === 0 ? "lg:justify-self-start" : index % 3 === 1 ? "lg:justify-self-center" : "lg:justify-self-end"} `}>
				<a href={ `/reading/${book.frontmatter.page}`}  >
					<img
						src={book.frontmatter.thumbnail}
						class={` w-60 h-72 self-center rounded-lg cursor-pointer transition hover:-translate-y-2 shadow-sm shadow-gray-400`}
					/> 
				</a>
				<span class="flex justify-center"><a href={ `/posts/${book.frontmatter.page}`}>
					{book.frontmatter.description}
				</a></span>
			</li>
			)}
			)}
		</ul>
		<h1 class="text-3xl self-start">Up next</h1>
		<ul class="grid gap-6 w-full">
			{books.filter(book => book.frontmatter.status === 'unread').map((book, index) => {
			return  (
			<li class={`flex flex-col gap-2 justify-center justify-self-center ${index % 3 === 0 ? "lg:justify-self-start" : index % 3 === 1 ? "lg:justify-self-center" : "lg:justify-self-end"} `}>
				<a href={ `/reading/${book.frontmatter.page}`}  >
					<img
						src={book.frontmatter.thumbnail}
						class={` w-60 h-72 self-center rounded-lg cursor-pointer transition hover:-translate-y-2 shadow-sm shadow-gray-400`}
					/> 
				</a>
				<span class="flex justify-center"><a href={ `/posts/${book.frontmatter.page}`}>
					{book.frontmatter.description}
				</a></span>
			</li>
			)}
			)}
		</ul>
		<slot />
	</article>
</Layout>
